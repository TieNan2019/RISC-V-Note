# RISC-V 笔记

+ 无条件跳转 (unconditional Jump) -- 2条:

        1. jal (Jmp and Link) : 立即跳转。可以用于调用子程序, 同时将返回地址存入"链接寄存器 (Link Reg)"。
        2. jalr (Jmp and Link Ret) : 基址+偏移跳转。用于子程序返回, 将 jal 指令保存的返回地址作为 jalr 指令的基址寄存器。

+ 条件跳转 (conditional branch) -- 6条:

        1. BEQ : 相等时跳转
        2. BNE : 不相等时跳转
        3. BLT : 小于时跳转 (对于有符号数)
        4. BLTU : 小于时跳转 (对于无符号数)
        5. BGE : 大于时跳转 (对于有符号数)
        6. BGEU ： 大于时跳转 (对于无符号数)

+ ??? RISC-V 在低端 CPU 中的静态跳转和高端 CPU 的动态分支预测 ???

+ 为了简化处理器设计:

        1. 删除了一次性保护现场的指令, 但是可以选择使用公用程序库的方式减少代码量。
        2. 删除了条件码的指令集机制, 仅仅使用普通的跳转指令。
        3. 放弃了分支延迟槽, 依托分支预测电路来实现分支优化。
        4. 零开销硬件循环。
        5. 对任何算术运算指令错误, 均不产生异常; 转而采取统一采用标志位的策略, 通过软件来查出错误。

+ 压缩指令集:

        1. 16 位的压缩指令有其对应的 32 位普通指令。
        2. 在汇编阶段就可以完成。


+ 特权模式:

        1. Machine Mode : 机器模式 (M 必选)
        2. Supervisor Mode : 管理模式 (S 可选)
        3. User Mode : 用户模式 (U Mode 可选)

+ 矢量指令子集:

        使用可变长度矢量。
        ??? 书上没有完整定义

+ 自定义指令集拓展:

        1. Custom 指令可供用户直接使用 (4 条)
        2. 预留大量指令编码空间供用户自定义拓展
        3. 每条 Custom 指令预留几个比特位的子编码空间


